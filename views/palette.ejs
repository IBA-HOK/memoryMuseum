<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ€ã„å‡ºç¾è¡“é¤¨ | ãƒ‘ãƒ¬ãƒƒãƒˆé¸æŠ</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="screen-container color-screen <%= mode %>" data-mode="<%= mode %>" data-auto-selected="<%= autoSelected %>">
    <div class="header-text">ä»Šæ—¥ä½¿ã†5è‰²ã‚’é¸ã¶</div>
    <div class="image-upload-section">
      <label for="image-upload" class="btn-secondary image-upload-btn">
        ğŸ“· ç”»åƒã‹ã‚‰è‰²ã‚’æŠ½å‡º
      </label>
      <input type="file" id="image-upload" accept="image/*" multiple style="display: none;">
    </div>
    <div id="color-grid" class="color-grid"></div>
    <div class="selected-colors-info" id="selected-colors-info"></div>
    <form action="/atelier/draw" method="GET" class="palette-form">
      <input type="hidden" name="shape" value="<%= shape %>">
      <input type="hidden" name="colors" id="selected-colors-input" value="<%= JSON.stringify(selectedColors) %>">
      <button type="submit" class="btn-primary">æ±ºå®šã—ã¦æã</button>
    </form>
  </div>
  <script>
    window.__PALETTE_DATA__ = {
      mode: "<%= mode %>",
      autoSelected: <%= autoSelected ? "true" : "false" %>,
      availableColors: <%- JSON.stringify(availableColors) %>,
      selectedColors: <%- JSON.stringify(selectedColors) %>
    };
  </script>
  <script src="/js/palette.js" defer></script>
</body>
</html>
